{% load wagtailimages_tags %}
{% load i18n %}
{% trans "Crop image" as choose_str %}
{% include "wagtailadmin/shared/header.html" with title=choose_str %}

<section class="active nice-padding image-cropper">
    <div class="crop-image">
        {% image image original %}
    </div>
    <form action="{% url 'wagtailimages_chooser_select_rendition' image.id %}" method="POST">
        {% csrf_token %}
        <ul class="fields">
            {% for field in form %}
                {{ field }}
            {% endfor %}
            <li>
                <div class="field aspect-ratio">
                    <label>Cropping aspect ratio</label>
                    <div class="field-content">
                        {% for ratio in form.ratios %}
                            <input type="radio" name="aspect-ratio"
                                   value="{{ ratio }}"
                                   {% if ratio == form.default_ratio %}checked{% endif %}
                                   {% if form.disable_selection %}disabled{% endif %}
                                   />
                            <span>{{ ratio }}</span>
                        {% endfor %}
                    </div>
                </div>
            </li>

            <li>
                <input type="submit" class="crop-button"
                       value="{% trans 'Crop' %}" />
                {% if not form.force_selection.value %}
                    <input type="submit" class="skip-button"
                           value="{% trans 'Whole image' %}" />
                {% endif %}
            </li>
        </ul>
    </form>
</section>
